---
phase: 01-foundation-and-theme
plan: 03
type: execute
---

<objective>
Build the responsive layout shell — header with navigation (including dropdowns), footer with site links and social media, and a page wrapper that all content pages will use.

Purpose: Every page in the site shares this shell. Getting it right now means all future pages inherit a polished, professional frame.
Output: Working header with logo, desktop nav with dropdowns, mobile hamburger menu, footer with columns, and a RootLayout that wraps all pages.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-and-theme/01-01-SUMMARY.md
@.planning/phases/01-foundation-and-theme/01-02-SUMMARY.md
@tailwind.config.ts
@src/app/layout.tsx
@src/app/globals.css

**Design requirements (from PROJECT.md):**
- "Professional navigation with dropdowns"
- "Mobile-first responsive design (barn/showground usage)"
- "Card-based content layouts for events and news"

**NRHA.com navigation patterns:**
- Horizontal top nav with logo left, links center/right
- Mega-menu/dropdown on hover for desktop
- Sticky header on scroll
- Multi-column footer with social media links

**Site navigation structure (from Wix site analysis):**
- Home (/)
- About (/about)
- Shows & Events → dropdown: Show Schedule (/shows/schedule), Results & Standings (/shows/results)
- Membership → dropdown: Join SWMRHA (/membership/join), Rules & Classes (/membership/rules), Green as Grass (/membership/green-as-grass)
- Resources → dropdown: FAQ (/resources/faq), Find a Trainer (/resources/find-a-trainer)
- Gallery (/gallery)
- Sponsors (/sponsors)
- Contact (/contact)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create responsive header with navigation and mobile menu</name>
  <files>src/components/Header.tsx, src/components/MobileMenu.tsx, src/lib/navigation.ts</files>
  <action>
  Create a navigation data file at src/lib/navigation.ts that exports the site nav structure as a typed array:
  ```
  type NavItem = {
    label: string;
    href: string;
    children?: { label: string; href: string }[];
  };
  ```
  Define all nav items matching the structure in context above.

  Create Header.tsx as a client component ("use client") with:
  - Fixed/sticky position at top (z-50)
  - Background: navy-900 with slight transparency (bg-navy-900/95 backdrop-blur-sm) for scroll effect
  - Left: Text logo "SWMRHA" in font-heading text-gold-500 font-bold text-xl, linked to /. Below it in smaller text: "Southwest Missouri Reining Horse Association" in text-slate-400
  - Center/Right: Desktop nav links (hidden on mobile, flex on lg:)
    - Regular links: text-slate-300 hover:text-white transition
    - Dropdown parent links: Show a chevron-down icon. On hover (desktop), show dropdown panel with bg-navy-700 border border-navy-600 rounded-card shadow-xl. Dropdown items: text-slate-300 hover:text-white hover:bg-navy-600 padding.
    - Active link detection: Use Next.js usePathname() to highlight current page/section in text-gold-500
  - Far right: "Join" CTA button — bg-gold-500 text-navy-900 font-semibold px-4 py-2 rounded hover:bg-gold-400 transition (hidden on mobile)
  - Mobile: Hamburger icon button (lg:hidden) that toggles MobileMenu

  Create MobileMenu.tsx as a client component:
  - Full-screen overlay (fixed inset-0 z-40) with bg-navy-900/98
  - Close button (X icon) top right
  - Nav links stacked vertically, large tap targets (py-3 text-lg)
  - Dropdown sections: Tap parent to expand/collapse children with smooth height animation
  - "Join SWMRHA" CTA at bottom
  - Trap focus within menu when open (for accessibility)
  - Close on Escape key

  Use Heroicons (install @heroicons/react) for icons: Bars3Icon, XMarkIcon, ChevronDownIcon.

  Do NOT use any third-party nav/menu library — Tailwind + useState is sufficient and avoids bundle bloat.
  </action>
  <verify>npm run build succeeds; dev server shows header on all pages; desktop dropdowns open on hover; mobile hamburger opens full-screen menu; active page is highlighted</verify>
  <done>Header renders on all pages with logo, desktop nav with working dropdowns, mobile hamburger menu, "Join" CTA button. Active page detection works via usePathname. No hydration errors.</done>
</task>

<task type="auto">
  <name>Task 2: Create footer and integrate layout shell</name>
  <files>src/components/Footer.tsx, src/app/layout.tsx</files>
  <action>
  Create Footer.tsx with:
  - Background: bg-navy-900 with a top border (border-t border-navy-600)
  - Layout: Responsive grid — 4 columns on desktop (lg:grid-cols-4), 2 on tablet (md:grid-cols-2), stacked on mobile
  - Column 1 — "SWMRHA": Logo text in gold, one-line description "Southwest Missouri Reining Horse Association", social media icon links (Facebook, Instagram — use simple SVG icons or Heroicons). Social links open in new tab with rel="noopener noreferrer".
  - Column 2 — "Quick Links": Home, About, Shows & Events, Gallery, Sponsors
  - Column 3 — "Membership": Join SWMRHA, Rules & Classes, Green as Grass, Find a Trainer
  - Column 4 — "Contact": Contact link, FAQ link, placeholder email (info@swmrha.com), placeholder text "Southwest Missouri"
  - All links: text-slate-400 hover:text-gold-500 transition
  - Column headings: text-white font-heading font-semibold text-sm uppercase tracking-wider mb-4
  - Bottom bar: Centered copyright "© {current year} SWMRHA. All rights reserved." in text-slate-500 text-sm, with top border (border-t border-navy-700) and padding

  Update src/app/layout.tsx:
  - Import and render Header above {children}
  - Import and render Footer below {children}
  - Wrap children in a `<main className="min-h-screen pt-[header-height]">` to account for the fixed header. Use a consistent header height value (e.g., pt-16 or pt-20 depending on header size).
  - Add metadata: title "SWMRHA - Southwest Missouri Reining Horse Association", description from PROJECT.md core value

  Do NOT use Link component for external social media links — use regular `<a>` tags. DO use Next.js Link for internal navigation links.
  </action>
  <verify>npm run build succeeds; footer renders on all pages with 4 columns on desktop, stacked on mobile; all footer links navigate correctly; no layout shift from fixed header</verify>
  <done>Footer renders with 4-column responsive layout, social media links, copyright bar. Layout.tsx wraps all pages with Header + main + Footer. Content is not hidden behind fixed header. All internal links use Next.js Link component.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete layout shell — sticky header with logo, desktop navigation (including dropdown menus for Shows, Membership, Resources), mobile hamburger menu, 4-column footer, all wrapping every page in the site</what-built>
  <how-to-verify>
    1. Run: `npm run dev`
    2. Visit: http://localhost:3000
    3. **Header — Desktop (>1024px):**
       - SWMRHA logo in gold on left
       - Nav links visible horizontally
       - Hover "Shows & Events" → dropdown appears with Schedule and Results links
       - Hover "Membership" → dropdown with Join, Rules, Green as Grass
       - "Join" CTA button visible in gold
       - Click nav links → pages load with correct h1 titles
    4. **Header — Mobile (<1024px):**
       - Resize browser to mobile width
       - Hamburger icon appears, nav links hidden
       - Tap hamburger → full-screen menu slides in
       - Tap a dropdown parent → children expand
       - Tap a link → navigates and menu closes
       - Press Escape → menu closes
    5. **Footer:**
       - Scroll to bottom of any page
       - 4 columns visible on desktop, stacked on mobile
       - Links navigate correctly
       - Copyright year is current
    6. **Navigation across pages:**
       - Visit /about, /shows/schedule, /membership/join, /contact
       - Active nav item highlighted in gold on each page
       - Header and footer consistent across all pages
    7. **Overall feel:**
       - Dark navy throughout, gold accents, professional appearance
       - No white/light flashes, no layout shifts
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix (e.g., "dropdown overlaps content", "mobile menu too slow", "logo needs adjustment")</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Header renders on all pages with working navigation
- [ ] Desktop dropdowns function on hover
- [ ] Mobile hamburger menu opens/closes correctly
- [ ] Footer renders with 4-column responsive layout
- [ ] Active page highlighting works
- [ ] No hydration errors in console
- [ ] Human approved the layout shell
</verification>

<success_criteria>

- Layout shell (Header + Footer) wraps all pages via layout.tsx
- Desktop navigation has working dropdown menus
- Mobile hamburger menu with expandable sections
- Active page/section detection with gold highlighting
- Footer with 4-column layout, social links, copyright
- Responsive: works from mobile (375px) to desktop (1440px+)
- Phase 1 complete — foundation ready to receive content
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-and-theme/01-03-SUMMARY.md`
</output>

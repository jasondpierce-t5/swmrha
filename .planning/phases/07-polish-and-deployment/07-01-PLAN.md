---
phase: 07-polish-and-deployment
plan: 01
type: execute
depends_on: []
files_modified: [src/app/page.tsx, src/app/about/page.tsx, src/app/shows/page.tsx, src/app/results/page.tsx, src/app/membership/page.tsx, src/app/membership/rules/page.tsx, src/app/membership/green-as-grass/page.tsx, src/app/resources/faq/page.tsx, src/app/resources/find-a-trainer/page.tsx, src/app/gallery/page.tsx, src/app/sponsors/page.tsx, src/app/contact/page.tsx, src/app/layout.tsx, src/app/sitemap.ts, src/app/robots.ts]
---

<objective>
Add comprehensive SEO metadata, structured data, sitemap, and robots.txt to make the site discoverable and properly indexed by search engines.

Purpose: Ensure search engines can find, crawl, and properly display the SWMRHA site in search results with rich snippets.
Output: All pages with Open Graph tags, JSON-LD structured data for organization, dynamic sitemap, and robots.txt.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-gallery-sponsors-contact/06-02-SUMMARY.md
@src/app/layout.tsx
@src/data/content.ts

**Tech stack available:**
- Next.js 16.1.6 with App Router
- TypeScript 5
- Metadata API (generateMetadata, Metadata type)
- App Router file conventions (sitemap.ts, robots.ts)

**Key context:**
- Site is dark-themed western aesthetic for Southwest Missouri Reining Horse Association
- Root layout already has basic title/description metadata
- All pages are complete (home, about, shows, results, membership pages, resources, gallery, sponsors, contact)
- Organization info available in content.ts (name, location, officers, social media)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add page-specific metadata with Open Graph tags to all routes</name>
  <files>src/app/page.tsx, src/app/about/page.tsx, src/app/shows/page.tsx, src/app/results/page.tsx, src/app/membership/page.tsx, src/app/membership/rules/page.tsx, src/app/membership/green-as-grass/page.tsx, src/app/resources/faq/page.tsx, src/app/resources/find-a-trainer/page.tsx, src/app/gallery/page.tsx, src/app/sponsors/page.tsx, src/app/contact/page.tsx</files>
  <action>
    Export a `metadata` constant from each page with:
    - title: "[Page Name] | SWMRHA" (use template for consistent branding)
    - description: SEO-optimized description (50-160 chars) specific to page content
    - openGraph: { title, description, type: "website", locale: "en_US", siteName: "SWMRHA" }
    - twitter: { card: "summary_large_image", title, description }

    Use descriptive, keyword-rich descriptions that match page content. Examples:
    - Home: "Southwest Missouri Reining Horse Association â€” show schedules, results, membership info, and resources for reining enthusiasts"
    - About: "Learn about SWMRHA's mission, history, and meet our board of directors leading southwest Missouri's premier reining association"
    - Shows: "View SWMRHA show schedules, event dates, locations, classes, and entry information for reining competitions"

    Do NOT add images to Open Graph yet (no hero images extracted in Phase 2). Focus on text metadata only.
  </action>
  <verify>
    - Each page file has `export const metadata: Metadata = {...}`
    - All titles follow "[Page] | SWMRHA" pattern
    - All descriptions are 50-160 characters
    - TypeScript compiles: npx tsc --noEmit
  </verify>
  <done>All 12 pages have metadata exports with title, description, openGraph, and twitter tags. No TypeScript errors.</done>
</task>

<task type="auto">
  <name>Task 2: Add JSON-LD structured data for Organization</name>
  <files>src/app/layout.tsx</files>
  <action>
    Add JSON-LD structured data script to root layout's `<head>` section using Next.js Script component.

    Create a JSON-LD schema for Organization with:
    - @context: "https://schema.org"
    - @type: "Organization"
    - name: "Southwest Missouri Reining Horse Association"
    - alternateName: "SWMRHA"
    - url: "https://swmrha.org" (use environment variable or placeholder if URL not final)
    - sameAs: [Facebook URL from content.ts]
    - contactPoint: { @type: "ContactPoint", contactType: "General Inquiries", email: [president email from content.ts] }

    Add the script inside `<head>` using dangerouslySetInnerHTML or Next.js Script component with type="application/ld+json".

    Why JSON-LD: Helps search engines understand the organization structure and display rich snippets in search results.
  </action>
  <verify>
    - View page source in browser (npm run dev, inspect HTML)
    - Confirm `<script type="application/ld+json">` exists with Organization schema
    - Validate JSON-LD at https://validator.schema.org/ or https://search.google.com/test/rich-results
  </verify>
  <done>JSON-LD Organization schema present in page source. Schema validation passes.</done>
</task>

<task type="auto">
  <name>Task 3: Create sitemap and robots.txt using Next.js conventions</name>
  <files>src/app/sitemap.ts, src/app/robots.ts</files>
  <action>
    Create `src/app/sitemap.ts`:
    - Export default async function returning array of { url, lastModified, changeFrequency, priority }
    - Include all public routes: /, /about, /shows, /results, /membership, /membership/rules, /membership/green-as-grass, /resources/faq, /resources/find-a-trainer, /gallery, /sponsors, /contact
    - Use base URL from environment variable (process.env.NEXT_PUBLIC_SITE_URL) or fallback "https://swmrha.org"
    - Set lastModified to current date, changeFrequency: "monthly", priority: 0.8 for home, 0.6 for others

    Create `src/app/robots.ts`:
    - Export default function returning { rules: { userAgent: "*", allow: "/" }, sitemap: "[base-url]/sitemap.xml" }
    - Allow all crawlers, point to sitemap

    Next.js 16 App Router automatically generates /sitemap.xml and /robots.txt from these files.
  </action>
  <verify>
    - Files exist: src/app/sitemap.ts, src/app/robots.ts
    - TypeScript compiles: npx tsc --noEmit
    - In dev mode (npm run dev), visit http://localhost:3000/sitemap.xml and http://localhost:3000/robots.txt
    - Confirm sitemap.xml shows all routes in XML format
    - Confirm robots.txt has "User-agent: *" and "Sitemap:" line
  </verify>
  <done>sitemap.xml and robots.txt accessible via browser. Sitemap includes all 12 routes. Robots.txt allows all crawlers.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All page files have metadata exports
- [ ] npx tsc --noEmit passes with no errors
- [ ] npm run dev works without errors
- [ ] Visit /sitemap.xml shows XML with all routes
- [ ] Visit /robots.txt shows proper rules
- [ ] View page source on any page shows JSON-LD script
</verification>

<success_criteria>

- All 12 pages have SEO-optimized metadata with Open Graph tags
- JSON-LD Organization schema present in root layout
- Dynamic sitemap.xml generated with all public routes
- robots.txt present allowing all crawlers
- No TypeScript errors or build warnings
- Dev server runs successfully
  </success_criteria>

<output>
After completion, create `.planning/phases/07-polish-and-deployment/07-01-SUMMARY.md`:

# Phase 7 Plan 1: SEO & Metadata Summary

**[Substantive one-liner describing what was accomplished]**

## Accomplishments

- Added page-specific metadata to all 12 routes with Open Graph and Twitter Card tags
- Implemented JSON-LD structured data for Organization in root layout
- Created dynamic sitemap.xml with all public routes
- Created robots.txt allowing all search engine crawlers
- [Any additional SEO enhancements made]

## Files Created/Modified

- `src/app/page.tsx` - Added home page metadata
- `src/app/about/page.tsx` - Added about page metadata
- [List all 12 page files modified]
- `src/app/layout.tsx` - Added JSON-LD Organization schema
- `src/app/sitemap.ts` - Dynamic sitemap generation
- `src/app/robots.ts` - Robots.txt configuration

## Decisions Made

[Key decisions about metadata strategy, URL structure, or SEO approach, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 07-02-PLAN.md (Accessibility Audit & Fixes)
</output>
